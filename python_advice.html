<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>8. Python advice &#8212; Alpaga 1.2 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=27fed22d" />
    <script src="_static/documentation_options.js?v=61243dd2"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="9. Experimental and procedure advice" href="experimental_advice.html" />
    <link rel="prev" title="7. SSHG analysis" href="analysis_SSHG.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <blockquote>
<div></div></blockquote>
<section id="python-advice">
<span id="python-advice-page"></span><h1><span class="section-number">8. </span>Python advice<a class="headerlink" href="#python-advice" title="Link to this heading">¶</a></h1>
<p>Dear student, PhD, doctor, professor, and guests, or Igor user,</p>
<p>Here are some pieces of advice that you may find useful when working with Alpaga or Python in general. This page is not meant to replace a full course, but I hope it can help. If you have any tricks or advice, please do not hesitate to contact the Alpaga maintainer to have them added to this list.</p>
<section id="some-habits">
<h2><span class="section-number">8.1. </span>Some habits<a class="headerlink" href="#some-habits" title="Link to this heading">¶</a></h2>
<p>The Alpaga developer recommends some habits that can make your code more readable (or at least easier to understand, especially how the Alpaga code is written).</p>
<ul class="simple">
<li><p>Do not name your code versions something like <code class="docutils literal notranslate"><span class="pre">new_analyse</span></code> or <code class="docutils literal notranslate"><span class="pre">fix_bug_analysis</span></code>.
If you do not want to use versioning software such as git, name them sequentially like <code class="docutils literal notranslate"><span class="pre">analysis_1</span></code>, <code class="docutils literal notranslate"><span class="pre">analysis_2</span></code>, etc.</p></li>
<li><p>The name of every variable should be as explicit as possible. Do not call the list where the angles are stored <code class="docutils literal notranslate"><span class="pre">list_a</span></code>; instead, use <code class="docutils literal notranslate"><span class="pre">L_angle</span></code>. Try to stay close to the names you would use in your report, manuscript, or article.</p></li>
<li><p>If it is a list, name it with the prefix <em>L_</em>.</p></li>
<li><p>If it is a directory or a list with multiple dimensions, name it with the prefix <em>LL_</em>.</p></li>
<li><p>If it is a temporary variable (within a loop), use the suffix <em>_t</em> or <em>_temp</em>.</p></li>
<li><p>Initialize the size of a list if you know the dimension. This helps to spot unexpected behavior.</p></li>
</ul>
</section>
<section id="tricks-to-save-time">
<h2><span class="section-number">8.2. </span>Tricks to save time<a class="headerlink" href="#tricks-to-save-time" title="Link to this heading">¶</a></h2>
<ul>
<li><p>If you copy and paste a piece of code more than 5-6 times, it may be time to define a new function.</p></li>
<li><p>At the beginning of your code, define <span class="incremental">WORK_DIR</span> and <span class="incremental">SAVE_DIR</span> variables. This is helpful if you move your analysis code, data, or change computers.
You just have to set the absolute path to the data directory and where you want to save your figures once, and everything else will update automatically.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>  <span class="c1"># this package should be installed in every standard Python environment</span>
<span class="n">WORK_DIR</span> <span class="o">=</span> <span class="s1">&#39;/home/lama/Datas&#39;</span>
<span class="n">SAVE_DIR</span> <span class="o">=</span> <span class="s1">&#39;/home/lama/Article/MyNextNature&#39;</span>
</pre></div>
</div>
<p>Then, declare your data directory and figure save path:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">directory</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">WORK_DIR</span><span class="p">,</span> <span class="s1">&#39;your_directory/other_one&#39;</span><span class="p">)</span>
<span class="n">figure_name_save</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">SAVE_DIR</span><span class="p">,</span> <span class="s1">&#39;Main/figure_2.pdf&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>This way, you do not have to worry about the software location—just check the <span class="incremental">WORK_DIR</span> and <span class="incremental">SAVE_DIR</span> variables.</p>
</li>
<li><p>We recommend keeping the code that created a figure used in your report or article. Even better: copy this code and save it with the figure to ensure you can regenerate it if needed.</p></li>
</ul>
</section>
<section id="useful-data-structures-in-python-dictionary">
<h2><span class="section-number">8.3. </span>Useful data structures in Python: dictionary<a class="headerlink" href="#useful-data-structures-in-python-dictionary" title="Link to this heading">¶</a></h2>
<p>To store multiple pieces of data (lists, arrays, etc.) in one place in Python, you can use a dictionary.</p>
<ul>
<li><p>Create a dictionary:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LL_mydict</span> <span class="o">=</span> <span class="p">{}</span>
</pre></div>
</div>
</li>
<li><p>Add values associated with a key:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LL_mydict</span><span class="p">[</span><span class="s1">&#39;lama_1_name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Alpaga&#39;</span>
<span class="n">LL_mydict</span><span class="p">[</span><span class="s1">&#39;lama_1_age&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.5</span>
<span class="n">LL_mydict</span><span class="p">[</span><span class="s1">&#39;lama_1_habits&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;eat cheese&#39;</span><span class="p">,</span> <span class="s1">&#39;sleep&#39;</span><span class="p">]</span>
</pre></div>
</div>
</li>
<li><p>Access values:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">LL_mydict</span><span class="p">[</span><span class="s1">&#39;lama_1_name&#39;</span><span class="p">])</span>
<span class="n">age</span> <span class="o">=</span> <span class="n">LL_mydict</span><span class="p">[</span><span class="s1">&#39;lama_1_age&#39;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">age</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>Automating naming with dictionaries:
Suppose you performed several experiments with names <code class="docutils literal notranslate"><span class="pre">C_1</span></code>, <code class="docutils literal notranslate"><span class="pre">C_2</span></code>, <code class="docutils literal notranslate"><span class="pre">C_5</span></code>, <code class="docutils literal notranslate"><span class="pre">C_10</span></code>, <code class="docutils literal notranslate"><span class="pre">C_20</span></code> and corresponding concentrations:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">L_C</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">]</span>
</pre></div>
</div>
<p>Treat each experiment and store the result using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">name_key</span> <span class="o">=</span> <span class="s1">&#39;my_observable_&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">concentration_value</span><span class="p">)</span>
<span class="n">LL_mydict</span><span class="p">[</span><span class="n">name_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">my_observable_at_this_concentration</span>
</pre></div>
</div>
<p>At the end, the dictionary keys will be:
<code class="docutils literal notranslate"><span class="pre">my_observable_1</span></code>, <code class="docutils literal notranslate"><span class="pre">my_observable_2</span></code>, <code class="docutils literal notranslate"><span class="pre">my_observable_5</span></code>, <code class="docutils literal notranslate"><span class="pre">my_observable_10</span></code>, <code class="docutils literal notranslate"><span class="pre">my_observable_20</span></code>.
You can loop over them:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">concentration</span> <span class="ow">in</span> <span class="n">L_C</span><span class="p">:</span>
    <span class="n">name_key_t</span> <span class="o">=</span> <span class="s1">&#39;my_observable_&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">concentration</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">LL_mydict</span><span class="p">[</span><span class="n">name_key_t</span><span class="p">])</span>
</pre></div>
</div>
</li>
<li><p>Using individual variables like <code class="docutils literal notranslate"><span class="pre">observable_c_1</span></code>, <code class="docutils literal notranslate"><span class="pre">observable_c_2</span></code> etc. is possible but not recommended. You cannot access them automatically in a loop, and copy-pasting increases the chance of mistakes.
Storing results in a single object (dictionary or user-defined object) with automatically generated keys is safer and more maintainable.</p></li>
</ul>
</section>
<section id="how-to-access-the-data-pickle">
<h2><span class="section-number">8.4. </span>How to access the data: pickle<a class="headerlink" href="#how-to-access-the-data-pickle" title="Link to this heading">¶</a></h2>
<p>Another advantage of using dictionaries is easy storage in pickle format. Pickle is Python-friendly but not human-readable.</p>
<ul>
<li><p>To open a pickle:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pickle</span>
<span class="n">name_file</span> <span class="o">=</span> <span class="s1">&#39;/some/directory/with/your/pickle/file.p&#39;</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">name_file</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">filetoload</span><span class="p">:</span>  <span class="c1"># ensures proper closure after reading</span>
    <span class="n">LL_what_is_in_your_pickle</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">filetoload</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>To save data in a pickle:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">name_file</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">pfile</span><span class="p">:</span>  <span class="c1"># ensures proper closure after writing</span>
    <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">LL_what_to_save</span><span class="p">,</span> <span class="n">pfile</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Release<span class="colon">:</span></dt>
<dd class="field-odd"><p>1.2</p>
</dd>
<dt class="field-even">Date<span class="colon">:</span></dt>
<dd class="field-even"><p>Sep 06, 2025</p>
</dd>
</dl>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/alpaga_logo.svg" alt="Logo of Alpaga"/>
            </a></p>
<h1 class="logo"><a href="index.html">Alpaga</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">1. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="file_management.html">2. File Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="cleaning_averaging_spectra.html">3. Cleaning and Averaging Spectra</a></li>
<li class="toctree-l1"><a class="reference internal" href="fitting_procedure.html">4. Fitting the Gaussian</a></li>
<li class="toctree-l1"><a class="reference internal" href="polarisation_procedure.html">5. Polarisation Procedure</a></li>
<li class="toctree-l1"><a class="reference internal" href="analysis_SHS.html">6. SHS analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="analysis_SSHG.html">7. SSHG analysis</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">8. Python advice</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#some-habits">8.1. Some habits</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tricks-to-save-time">8.2. Tricks to save time</a></li>
<li class="toctree-l2"><a class="reference internal" href="#useful-data-structures-in-python-dictionary">8.3. Useful data structures in Python: dictionary</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-to-access-the-data-pickle">8.4. How to access the data: pickle</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="experimental_advice.html">9. Experimental and procedure advice</a></li>
<li class="toctree-l1"><a class="reference internal" href="for_developpers.html">10. For Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="devs_page.html">11. Alpaga’s developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">12. Reference</a></li>
</ul>


<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;L-GPL.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="_sources/python_advice.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>