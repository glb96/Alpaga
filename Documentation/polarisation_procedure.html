
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>5. Polarisation Procedure &#8212; Alpaga 1.2 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="6. SHS analysis" href="analysis_SHS.html" />
    <link rel="prev" title="4. Fitting the Gaussian" href="fitting_procedure.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <blockquote>
<div></div></blockquote>
<div class="section" id="polarisation-procedure">
<span id="polarisation-procedure-page"></span><h1><span class="section-number">5. </span>Polarisation Procedure<a class="headerlink" href="#polarisation-procedure" title="Permalink to this heading">¶</a></h1>
<p>This method regroups the different step presented in the previous part in order to automate them. The aim of this procedure is to literally ‘’press a button’’ to analyse your results so that you can have a coffee (or a tea (or a hot chocolate)) while the code is running. However, before achieving such dream, you should try the many parameters used. Many of them can be chosen automatically, but checking the different step by yourself is always a good behaviour.</p>
<p>The function to use is <em>alpaga.polarisation_intensity</em>, and below is presented the different argument that can be passed, corresponding to the different procedure step.</p>
<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">analyze_run.</span></span><span class="sig-name descname"><span class="pre">polarisation_intensity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">directory=False,</span> <span class="pre">L_filename=False,</span> <span class="pre">prefix_file=False,</span> <span class="pre">L_files_angles=False,</span> <span class="pre">N_iter=False,</span> <span class="pre">extention='.dat',</span> <span class="pre">fct_name=&lt;function</span> <span class="pre">standard_file_name&gt;,</span> <span class="pre">type_cleaning='mean',</span> <span class="pre">L_mean_cleaning_n=[1,</span> <span class="pre">1,</span> <span class="pre">1,</span> <span class="pre">3],</span> <span class="pre">L_mean_cleaning_evo_max=[2,</span> <span class="pre">1.5,</span> <span class="pre">1.4,</span> <span class="pre">1.3],</span> <span class="pre">automatic_l_cut=False,</span> <span class="pre">l_cut=[380,</span> <span class="pre">395,</span> <span class="pre">419,</span> <span class="pre">433],</span> <span class="pre">l_cut_n_n2=[2,</span> <span class="pre">9],</span> <span class="pre">order_fit_noise=4,</span> <span class="pre">method_fit_first='fit_gauss',</span> <span class="pre">bounds_fit_gausse=([0,</span> <span class="pre">395,</span> <span class="pre">1],</span> <span class="pre">[inf,</span> <span class="pre">410,</span> <span class="pre">25]),</span> <span class="pre">lambda_0_ref=403,</span> <span class="pre">waist_ref=2,</span> <span class="pre">exclu_zone=False,</span> <span class="pre">fixed_para_gauss_fit=True,</span> <span class="pre">method_fit_second='fit_gauss',</span> <span class="pre">save_result=True,</span> <span class="pre">name_save_result='./post_prod_results.p',</span> <span class="pre">waiting_time=False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/analyze_run.html#polarisation_intensity"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd></dd></dl>

<div class="section" id="overview-of-the-procedure">
<h2><span class="section-number">5.1. </span>Overview of the procedure<a class="headerlink" href="#overview-of-the-procedure" title="Permalink to this heading">¶</a></h2>
<blockquote>
<div><ol class="arabic simple">
<li><p>Open all the file and make sure they work using alpaga.find_angle_iter_from_dir ADD ref. Can be bypassed is you define your custom values.</p></li>
<li><p>Perform a first analysis for all the angles. For every angle, it will a) cleaned and averaged the acquisition, b) remove the noise and c) fit the Gaussian.</p></li>
<li><p>Perform a second analysis very similar to the step 2), but where some parameters (for the Gaussian fit for instance) can be fixed to the average calculated value. This step is optional.</p></li>
<li><p>Save the results using a dictionary.</p></li>
</ol>
</div></blockquote>
<a class="reference internal image-reference" href="_images/alpaga_beau_1.jpg"><img alt="_images/alpaga_beau_1.jpg" class="align-center" src="_images/alpaga_beau_1.jpg" style="width: 450px;" /></a>
<p>Below is presented the argument that you can pass to the function depending on what step it refers to. Many explanations are provided in other pages of the wiki, so if some argument feels unfamiliar to you, you may want to read the corresponding page.</p>
</div>
<div class="section" id="which-file-to-analyse">
<h2><span class="section-number">5.2. </span>Which file to analyse?<a class="headerlink" href="#which-file-to-analyse" title="Permalink to this heading">¶</a></h2>
<p>This method expects to analyse data with several ‘polarisation angle’. The expected data architecture and the function that will be used to open them are presented in the <a class="reference internal" href="file_management.html#file-management-page"><span class="std std-ref">File Management</span></a> page. If you want to use all the data available in a given directory, you just have to set the <em>directory</em> argument – and maybe the <em>extention</em> if your data files are not in the .dat format. The others are there for more specific usage.</p>
<blockquote>
<div><ul>
<li><p><strong>directory</strong>: str or bool</p>
<blockquote>
<div><p>If string: The directory where is located the data you want to analyse. Please note that only one ‘experiment’ should be stored in this directory. See <a class="reference internal" href="file_management.html#file-management-page"><span class="std std-ref">File Management</span></a> page.</p>
<p>If set to False: The procedure to find the files, the number of iterations and the list of angles is bypass. Therefore, you should provide these values using all the following argument: <em>prefix_file</em>, <em>L_files_angles</em>, <em>N_iter</em> and <em>extention</em>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If any of these arguments (<em>prefix_file</em>, <em>L_files_angles</em>, <em>N_iter</em>) is set to a value while a <em>directory</em> argument is given, the function will first define these value using the <a class="reference internal" href="file_management.html#open-angle-acquisition-section"><span class="std std-ref">alpaga.find_angle_iter_from_dir function</span></a>. Then, it will replace the found value by the one given by these arguments.</p>
</div>
</div></blockquote>
</li>
<li><p><strong>prefix_file</strong>: str or bool</p>
<blockquote>
<div><p>If set to False, the prefix of the files is found automatically</p>
<p>If set to a string, the prefix will be used rather than the one found automatically. Note that the prefix should point to a global location – for instance ‘/home/lama/Datas/Water/spectre_water’</p>
</div></blockquote>
</li>
<li><p><strong>L_files_angles</strong>: list or bool</p>
<blockquote>
<div><p>If set to False, the list of the angle to treat is the found automatically</p>
<p>If set to a list, this list of angle will be used rather than the one found automatically. This can be handy if you want to analyse only a part of your data, or check if a smaller sampling of your angles is good enough.</p>
</div></blockquote>
</li>
<li><p><strong>N_iter</strong>: int or bool</p>
<blockquote>
<div><p>If set to False, the number of acquisitions per angle is the one found automatically.</p>
<p>If set to an integer, this <em>N_iter</em> will be used instead of the one found automatically. This can be handy if you want to check if the total acquisition time is good enough – for instance by comparing with a smaller one, <em>i.e.</em> smaller <em>N_iter</em> value.</p>
</div></blockquote>
</li>
<li><p><strong>extention</strong>: str</p>
<blockquote>
<div><p>The extension of your data files. By default ‘.dat’ .</p>
</div></blockquote>
</li>
<li><dl class="simple">
<dt><strong>fct_name</strong>: function</dt><dd><p>The function used to built the name of a file given the prefix, angle, iteration and extension. By default, the alpaga.standard_file_name function is used.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<a class="reference internal image-reference" href="_images/alpaga_21.jpg"><img alt="_images/alpaga_21.jpg" class="align-center" src="_images/alpaga_21.jpg" style="width: 450px;" /></a>
</div>
<div class="section" id="averaging-the-acquisition">
<h2><span class="section-number">5.3. </span>Averaging the acquisition<a class="headerlink" href="#averaging-the-acquisition" title="Permalink to this heading">¶</a></h2>
<p>As explained in the <a class="reference internal" href="cleaning_averaging_spectra.html#cleaning-averaging-spectra-page"><span class="std std-ref">Cleaning and Averaging Spectra</span></a> page, this step does not depend a lot on the parameter chosen. Therefore, try to clean the spectra for a single angle, the parameters found should be sufficient. The parameters set here are the same for every angle of the analysis.</p>
<blockquote>
<div><ul class="simple">
<li><dl class="simple">
<dt><strong>type_cleaning</strong>: str</dt><dd><p>The only possible value actually is ‘mean’.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>L_mean_cleaning_n</strong>: list</dt><dd><p>See the <a class="reference internal" href="cleaning_averaging_spectra.html#cleaning-spectra-section"><span class="std std-ref">alpaga.clean_spectra_mean_n function</span></a></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>L_mean_cleaning_evo_max</strong>: list</dt><dd><p>See the <a class="reference internal" href="cleaning_averaging_spectra.html#cleaning-spectra-section"><span class="std std-ref">alpaga.clean_spectra_mean_n function</span></a></p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="noise-removal-gaussian-fit-and-automatic-feedback">
<h2><span class="section-number">5.4. </span>Noise removal, Gaussian fit and automatic feedback<a class="headerlink" href="#noise-removal-gaussian-fit-and-automatic-feedback" title="Permalink to this heading">¶</a></h2>
<p>The noise management and the extraction of the Gaussian are the numerical part where the parameters have the biggest impact on the result. Therefore, in this automatic function, several analyses can be performed in order to reduce the ‘operator choices’. The aim is to provide a robust and objective way of choosing the parameters, as well as saving time. Indeed, analysing your data with these ‘automatic’ parameters provide you better reproducibility compared to the case where you choose the parameter for every acquisition!</p>
<a class="reference internal image-reference" href="_images/alpaga_beau_2.jpg"><img alt="_images/alpaga_beau_2.jpg" class="align-center" src="_images/alpaga_beau_2.jpg" style="width: 450px;" /></a>
<p>First, there are the parameters already defined in the <a class="reference internal" href="fitting_procedure.html#fitting-procedure-page"><span class="std std-ref">Fitting the Gaussian</span></a> page:</p>
<blockquote>
<div><ul class="simple">
<li><dl class="simple">
<dt><strong>l_cut</strong>: list</dt><dd><p>List of four x values (wave-length value for instance) used to define the 3 areas for the noise removal. See the <a class="reference internal" href="fitting_procedure.html#remove-noise-section"><span class="std std-ref">alpaga.remove_noise function</span></a> for more information.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>order_fit_noise</strong>: int</dt><dd><p>The polynomial function order used for the noise fit. See the <a class="reference internal" href="fitting_procedure.html#remove-noise-section"><span class="std std-ref">alpaga.remove_noise function</span></a> for more information.</p>
</dd>
</dl>
</li>
</ul>
<blockquote>
<div><ul class="simple">
<li><dl class="simple">
<dt><strong>bounds_fit_gausse</strong>:str</dt><dd><p>The bound used in the case the curve fit procedure is used to extract the Gaussian intensity. See the <a class="reference internal" href="fitting_procedure.html#gaussian-fit-section"><span class="std std-ref">alpaga.fit_gaussian_from_noise function</span></a> for more information.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<ul class="simple">
<li><dl class="simple">
<dt><strong>lambda_0_ref</strong>: float</dt><dd><p>The maximal wave-length value used if the integral procedure is used to extract the Gaussian intensity. See the <a class="reference internal" href="fitting_procedure.html#gaussian-fit-section"><span class="std std-ref">alpaga.fit_gaussian_from_noise function</span></a> for more information.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>waist_ref</strong>:float</dt><dd><p>The waist used if the integral procedure is used to extract the Gaussian intensity. See the <a class="reference internal" href="fitting_procedure.html#gaussian-fit-section"><span class="std std-ref">alpaga.fit_gaussian_from_noise function</span></a> for more information.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>Using the <em>l_cut</em> argument, the values defined are used for all the angle. If you spend some time to tune these parameters, it should work well. However, to get an automatic procedure, two arguments have been added: <em>automatic_l_cut</em> and <em>l_cut_n_n2</em>. The idea is to define the area using the Gaussian parameters rather than absolute values.</p>
<p>Once the maximal intensity position, <em>lambda_0</em>, and Gaussian waist, <em>waist</em>, is known for a spectrum, the 3 areas can be defined as follows:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>The area where the Gaussian is located (the second one) is defined using a parameter, <em>n</em>, and the <em>waist</em>: from <em>lambda_0</em> - <em>n</em> x <em>waist</em> to  <em>lambda_0</em> + <em>n</em> x <em>waist</em>. Typically, <em>n</em> = 2.</p></li>
<li><p>The noise areas (the first and last) are defined using two parameters, <em>n</em> and <em>n2</em>, and the <em>waist</em>: from <em>lambda_0</em> - <em>n2</em> x <em>waist</em> to  <em>lambda_0</em> - <em>n</em> x <em>waist</em> for the first one, and  from <em>lambda_0</em> + <em>n</em> x <em>waist</em> to  <em>lambda_0</em> + <em>n2</em> x <em>waist</em> for the last one. Typically, <em>n2</em> = 9.</p></li>
</ol>
</div></blockquote>
<p>In other words, the <em>l_cut</em> argument becomes: lambda_0 + [<em>lambda_0</em> - <em>n2</em> x <em>waist</em>, <em>lambda_0</em> - <em>n</em> x <em>waist</em>, <em>lambda_0</em> + <em>n</em> x <em>waist</em>, <em>lambda_0</em> + <em>n2</em> x <em>waist</em>]</p>
<p>This method has the advantage to be robust, but the <em>lambda_0</em> and the <em>waist</em> should be known. Therefore, for every angle, the <em>l_cut</em> value is used first to remove the noise, then get the value of <em>lambda_0</em> and the <em>waist</em>. After, a second analysis is made with a <em>l_cut</em> defined using the <em>n</em> and <em>n2</em> parameters. The new intensity, <em>lambda_0</em> and <em>waist</em> are updated.</p>
<blockquote>
<div><ul>
<li><dl>
<dt><strong>automatic_l_cut</strong>: bool</dt><dd><p>If set to True, the second analysis for every angle value is performed using the found <em>lambda_0</em> and <em>waist</em> values.</p>
<p>If set to False, no second analysis is performed.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>l_cut_n_n2</strong>: list</dt><dd><p>If <em>automatic_l_cut</em> is set to True, contains the value used to define the <em>n</em> and <em>n2</em> parameter. l_cut_n_n2 = [n, n2]. <em>n</em> and <em>n2</em> can be float or int, typically 2 and 9 respectively.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This second analysis is performed, is based on the result found by the first one using the <em>l_cut</em> value defined in the argument. Therefore, even if you want to use this automatic method, be sure to use reasonable <em>l_cut</em> values!!!</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To use efficiently this technique, you should have solid values for <em>lambda_0</em> and <em>waist</em>. Therefore, it may have some trouble if the Gaussian intensity is very low – and thus, the <em>waist</em> is not well defined.</p>
</div>
<a class="reference internal image-reference" href="_images/alpaga_beau_3.jpg"><img alt="_images/alpaga_beau_3.jpg" class="align-center" src="_images/alpaga_beau_3.jpg" style="width: 450px;" /></a>
<p>Two possible methods to extract the Gaussian intensity are available: ‘fit_gauss’ or ‘integral_gauss’, see <a class="reference internal" href="fitting_procedure.html#gaussian-fit-section"><span class="std std-ref">here function</span></a>. To choose the method, use the parameter <em>method_fit_first</em>:</p>
<blockquote>
<div><ul>
<li><dl>
<dt><strong>method_fit_first</strong>: str</dt><dd><p>If set to ‘fit_gauss’, use the curve fit procedure to extract the intensity of the Gaussian, <em>I0</em>, as well as the maximum position, <em>lambda_0</em>, and the waist of the Gaussian, <em>waist</em>.</p>
<p>If set to ‘integral_gauss’, use the integral method to extract the intensity of the Gaussian, <em>I0</em>.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>However, it seems to us that to make the method the more autonomy possible, the curve fit method present more advantages since no value of <em>lambda_0</em> and <em>waist</em> are needed. Of course, you can set the <em>lambda_0_ref</em> and <em>waist_ref</em> value to precise value (that you have calculated previously), but it needs more work for the operator. Moreover, the integral method depends on a lot of the <em>waist</em> value past: it must be very precise.</p>
<p>Finally, in order to use the automatic <em>l_cut</em> selection, it makes more sense to use the curve fit method since it returns the <em>lambda_0</em> and <em>waist</em> value of every angle.</p>
<p>But you may want to use this integral method anyway, and if possible with meaningful <em>waist</em> value. That is why, a second analysis of <em>all</em> the angle is possible using the argument <em>fixed_para_gauss_fit</em>:</p>
<blockquote>
<div><ul>
<li><dl>
<dt><strong>fixed_para_gauss_fit</strong>: bool</dt><dd><p>If set to True, run a second time the analysis for every angle. For this second run, <em>lambda_0</em> is no longer angle dependent and is fixed to the mean value found across all the angles treated. Same for the <em>waist</em>.</p>
<p>If set to False, no second analysis is performed.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>In this analysis, the <em>lambda_0</em> and <em>waist</em> are no longer free parameters.</p>
<p>If <em>automatic_l_cut</em> = True, the <em>l_cut</em> is calculated using the mean <em>lambda_0</em> and <em>waist</em>. The same definition of the 3 areas will be used for all the angle – using still the <em>n</em> and <em>n2</em> given initially.</p>
<dl>
<dt>If for the method to extract the Gaussian intensity is the curve fit method,</dt><dd><ul>
<li><p><strong>method_fit_second</strong>: str</p>
<blockquote>
<div><p>Chose the method used to extract the Gaussian intensity for the second analysis where the <em>lambda_0</em> and <em>waist</em> are fixed to their mean value.</p>
<p>If set to ‘fit_gauss’, use the curve fit procedure to extract the intensity of the Gaussian, <em>I0</em>. However, the bound for the <em>lambda_0</em> and <em>waist</em> free parameters are narrowed down so that the <em>lambda_0</em> and <em>waist</em> found are equal to the mean value. In other words, <em>lambda_0</em> and <em>waist</em> are no longer free parameters that can be used to fit the curve, only <em>I0</em>.</p>
<p>If set to ‘integral_gauss’, use the integral method to extract the intensity of the Gaussian, <em>I0</em>. The <em>waist</em> value used for all the angle is the averaged one.</p>
<p>If set to ‘both’, perform the 2 analyses.</p>
</div></blockquote>
</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="how-the-data-are-saved">
<h2><span class="section-number">5.5. </span>How the data are saved<a class="headerlink" href="#how-the-data-are-saved" title="Permalink to this heading">¶</a></h2>
<p>The results and the input argument are saved using a dictionary. This dictionary can be saved in a ‘pickle’, that can be opened easily in python. To define the name of this file, use the argument <em>name_save_result</em>:</p>
<blockquote>
<div><ul>
<li><dl class="simple">
<dt><strong>save_result</strong>: bool</dt><dd><p>If set to True, save the results using the name <em>name_save_result</em>.</p>
</dd>
</dl>
</li>
<li><dl>
<dt><strong>name_save_result</strong>: str</dt><dd><p>The name of the pickle that contains the results and also all the parameters used for the analysis. Note that the name of the file <strong>SHALL</strong> ends by ‘.p’, and that should refer to a global location. For instance:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">name_save_result</span> <span class="o">=</span> <span class="s1">&#39;/home/lama/Datas/Results/my_results.p&#39;</span>
</pre></div>
</div>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the analysis crash, no data is saved. If the name you want to use to save the data correspond to an already existing file, this file is replaced by the new one.</p>
</div>
<p>Once the function has finished, you can have access to your results by loading the pickle where the results have been saved. For instance:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">name_save_result</span> <span class="o">=</span> <span class="s1">&#39;/home/lama/Datas/Results/my_results.p&#39;</span>

 <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">name_save_result</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">filetoload</span><span class="p">:</span>
     <span class="n">L_post_prod_load</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">filetoload</span><span class="p">)</span>
</pre></div>
</div>
<p>Where the dictionary <em>LL_post_prod_load</em> contains all the results. The function return also this dictionary as its only output.</p>
<a class="reference internal image-reference" href="_images/alpaga_20.jpg"><img alt="_images/alpaga_20.jpg" class="align-center" src="_images/alpaga_20.jpg" style="width: 450px;" /></a>
<p>If you want to remember which parameters you have chosen to perform this particular analysis, for instance the list of angle <em>L_files_angles</em>, use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">L_files_angles</span> <span class="o">=</span> <span class="n">L_post_prod_load</span><span class="p">[</span><span class="s1">&#39;L_files_angles&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>You can call all the arguments presented above this way. The same procedure is used to find the results:</p>
<blockquote>
<div><ul>
<li><dl>
<dt><strong>L_intensity_angle</strong>: list</dt><dd><p>The list of the extracted intensity <em>I0</em> during the first analysis for every angle.</p>
<p>If <em>automatic_l_cut</em> = True, the value extracted correspond to the second noise removal – with the <em>n</em> and <em>n2</em> method.</p>
</dd>
</dl>
</li>
<li><dl>
<dt><strong>L_lambda_0_angle</strong>: list</dt><dd><p>The list of the <em>lambda_0</em> found during the first analysis for every angle.</p>
<p>If <em>automatic_l_cut</em> = True, the value extracted correspond to the second noise removal – with the <em>n</em> and <em>n2</em> method.</p>
<p>If the method used is the integral method, the element are equal to <em>lambda_0_ref</em>.</p>
</dd>
</dl>
</li>
<li><dl>
<dt><strong>L_waist_angle</strong>: list</dt><dd><p>The list of the <em>waist</em> found during the first analysis for every angle.</p>
<p>If <em>automatic_l_cut</em> = True, the value extracted correspond to the second noise removal – with the <em>n</em> and <em>n2</em> method.</p>
<p>If the method used is the integral method, the element is equal to <em>waist_ref</em>.</p>
</dd>
</dl>
</li>
<li><dl>
<dt><strong>L_intensity_angle_fit_gauss_fixed_para</strong>: list</dt><dd><p>The list of the extracted intensity <em>I0</em> during the second analysis for every angle if the method chosen is: <em>method_fit_second</em> = ‘fit_gauss’ or ‘both’. In this case, the <em>lambda_0</em> and <em>waist</em> are no longer free parameters for the fitting procedure and is fixed to the mean value of <em>L_lambda_0_angle</em> and <em>L_waist_angle</em>.</p>
<p>If <em>automatic_l_cut</em> = True, the areas are built using the mean value of <em>L_lambda_0_angle</em> and <em>L_waist_angle</em>.</p>
</dd>
</dl>
</li>
<li><dl>
<dt><strong>L_intensity_angle_integral_gauss_fixed_para</strong>: list</dt><dd><p>The list of the extracted intensity <em>I0</em> during the second analysis for every angle if the method chosen is: <em>method_fit_second</em> = ‘integral_gauss’ or ‘both’. In this case, the <em>lambda_0</em> and <em>waist</em> used are equal to the mean value of <em>L_lambda_0_angle</em> and <em>L_waist_angle</em>.</p>
<p>If <em>automatic_l_cut</em> = True, the areas are built using the mean value of <em>L_lambda_0_angle</em> and <em>L_waist_angle</em>.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>If you want to have some example of plots using these results, see the notebook tutorial.</p>
</div>
<div class="section" id="some-other-parameters">
<h2><span class="section-number">5.6. </span>Some other parameters<a class="headerlink" href="#some-other-parameters" title="Permalink to this heading">¶</a></h2>
<a class="reference internal image-reference" href="_images/alpaga_19.jpg"><img alt="_images/alpaga_19.jpg" class="align-left" src="_images/alpaga_19.jpg" style="width: 150px;" /></a>
<p>While the function is running, several lines and plots are shown. Do not worry, they are here in case the execution crashes to help you find the error. If you are fast enough, you can even check that the procedure for every angle is well executed. If you want to have more time to see that, you can set the variable <em>waiting_time</em> to a float value. The code will stop from time to time. Note that this slows the procedure…</p>
<blockquote>
<div><ul>
<li><p><strong>waiting_time</strong>: float or bool</p>
<blockquote>
<div><p>If set to False, the function does not wait intentionally</p>
<p>If set to a float value, the function stops from time to time to let you see the plots. The unit is second.</p>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Release</dt>
<dd class="field-odd"><p>1.2</p>
</dd>
<dt class="field-even">Date</dt>
<dd class="field-even"><p>Aug 22, 2025</p>
</dd>
</dl>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/alpaga_logo.svg" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="index.html">Alpaga</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">1. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="file_management.html">2. File Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="cleaning_averaging_spectra.html">3. Cleaning and Averaging Spectra</a></li>
<li class="toctree-l1"><a class="reference internal" href="fitting_procedure.html">4. Fitting the Gaussian</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">5. Polarisation Procedure</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview-of-the-procedure">5.1. Overview of the procedure</a></li>
<li class="toctree-l2"><a class="reference internal" href="#which-file-to-analyse">5.2. Which file to analyse?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#averaging-the-acquisition">5.3. Averaging the acquisition</a></li>
<li class="toctree-l2"><a class="reference internal" href="#noise-removal-gaussian-fit-and-automatic-feedback">5.4. Noise removal, Gaussian fit and automatic feedback</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-the-data-are-saved">5.5. How the data are saved</a></li>
<li class="toctree-l2"><a class="reference internal" href="#some-other-parameters">5.6. Some other parameters</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="analysis_SHS.html">6. SHS analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="analysis_SSHG.html">7. SSHG analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="python_advice.html">8. Python advice</a></li>
<li class="toctree-l1"><a class="reference internal" href="experimental_advice.html">9. Experimental and procedure advice</a></li>
<li class="toctree-l1"><a class="reference internal" href="for_developpers.html">10. For Developpers</a></li>
<li class="toctree-l1"><a class="reference internal" href="alpaga.html">11. Source code</a></li>
<li class="toctree-l1"><a class="reference internal" href="devs_page.html">12. Alpaga’s developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">13. Reference</a></li>
</ul>


<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;L-GPL.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.3.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/polarisation_procedure.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>